"use strict";require("source-map-support/register");const{_}=require("@genx/july");const{ApplicationError,InvalidConfiguration}=require("@genx/error");const path=require("path");const spawn=require("child_process").spawn;exports.withProps=(Base,Props)=>class extends Base{constructor(...args){super(...args);Object.assign(this,Props)}};exports.dependsOn=function(features,app,fromFeature){let hasNotEnabled=_.find(_.castArray(features),feature=>!app.enabled(feature));if(hasNotEnabled){throw new Error(`"${fromFeature}" feature requires "${hasNotEnabled}" feature to be enabled.`)}};exports.restart=function(envVariables){let processOptions={env:{...process.env,...envVariables},detached:true,stdio:"ignore"};let cp=spawn(process.argv[0],process.argv.slice(1),processOptions);cp.unref();process.exit(0)};exports.requireConfig=function(app,config,keys,prefix){keys.forEach(key=>{let value=_.get(config,key);if(_.isNil(value)){throw new InvalidConfiguration(`Missing required config item "${key}".`,app,`${prefix}.${key}`)}})};exports.ensureFeatureName=name=>{if(!name)throw new ApplicationError("This feature cannot be used in v1.x @genx/app.")};exports.scriptBaseName=fileName=>path.basename(fileName,".js");
//# sourceMappingURL=Helpers.js.map