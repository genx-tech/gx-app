"use strict";

require("source-map-support/register");

const startWorker = require('./worker');

async function startCommand(commandHandler, options) {
  let {
    commandName,
    ...cmdOptions
  } = options;
  let workerOptions = { ...cmdOptions,
    workerName: commandName
  };

  if (workerOptions.config) {
    workerOptions.loadConfigFromOptions = true;
  }

  return startWorker(commandHandler, workerOptions);
}

module.exports = startCommand;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdGFydGVycy9jb21tYW5kLmpzIl0sIm5hbWVzIjpbInN0YXJ0V29ya2VyIiwicmVxdWlyZSIsInN0YXJ0Q29tbWFuZCIsImNvbW1hbmRIYW5kbGVyIiwib3B0aW9ucyIsImNvbW1hbmROYW1lIiwiY21kT3B0aW9ucyIsIndvcmtlck9wdGlvbnMiLCJ3b3JrZXJOYW1lIiwiY29uZmlnIiwibG9hZENvbmZpZ0Zyb21PcHRpb25zIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBM0I7O0FBRUEsZUFBZUMsWUFBZixDQUE0QkMsY0FBNUIsRUFBNENDLE9BQTVDLEVBQXFEO0FBQ2pELE1BQUk7QUFBRUMsSUFBQUEsV0FBRjtBQUFlLE9BQUdDO0FBQWxCLE1BQWlDRixPQUFyQztBQUNBLE1BQUlHLGFBQWEsR0FBRyxFQUFFLEdBQUdELFVBQUw7QUFBaUJFLElBQUFBLFVBQVUsRUFBRUg7QUFBN0IsR0FBcEI7O0FBQ0EsTUFBSUUsYUFBYSxDQUFDRSxNQUFsQixFQUEwQjtBQUN0QkYsSUFBQUEsYUFBYSxDQUFDRyxxQkFBZCxHQUFzQyxJQUF0QztBQUNIOztBQUVELFNBQU9WLFdBQVcsQ0FBQ0csY0FBRCxFQUFpQkksYUFBakIsQ0FBbEI7QUFDSDs7QUFFREksTUFBTSxDQUFDQyxPQUFQLEdBQWlCVixZQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0YXJ0V29ya2VyID0gcmVxdWlyZSgnLi93b3JrZXInKTtcblxuYXN5bmMgZnVuY3Rpb24gc3RhcnRDb21tYW5kKGNvbW1hbmRIYW5kbGVyLCBvcHRpb25zKSB7ICBcbiAgICBsZXQgeyBjb21tYW5kTmFtZSwgLi4uY21kT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgICBsZXQgd29ya2VyT3B0aW9ucyA9IHsgLi4uY21kT3B0aW9ucywgd29ya2VyTmFtZTogY29tbWFuZE5hbWUgfTtcbiAgICBpZiAod29ya2VyT3B0aW9ucy5jb25maWcpIHtcbiAgICAgICAgd29ya2VyT3B0aW9ucy5sb2FkQ29uZmlnRnJvbU9wdGlvbnMgPSB0cnVlO1xuICAgIH0gICAgXG5cbiAgICByZXR1cm4gc3RhcnRXb3JrZXIoY29tbWFuZEhhbmRsZXIsIHdvcmtlck9wdGlvbnMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YXJ0Q29tbWFuZDsiXX0=