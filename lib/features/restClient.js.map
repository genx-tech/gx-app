{"version":3,"sources":["../../src/features/restClient.js"],"names":["Feature","require","ensureFeatureName","HttpClient","module","exports","type","SERVICE","groupable","RestClient","load_","app","settings","name","agent","tryRequire","client","registerService"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAwBD,OAAO,CAAC,kBAAD,CAArC;;AAEA,MAAM;AAAEE,EAAAA;AAAF,IAAiBF,OAAO,CAAC,cAAD,CAA9B,C,CAEA;;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AACb;AACJ;AACA;AACA;AACIC,EAAAA,IAAI,EAAEN,OAAO,CAACO,OALD;;AAOb;AACJ;AACA;AACA;AACIC,EAAAA,SAAS,EAAE,IAXE;AAabC,EAAAA,UAAU,EAAEN,UAbC;;AAeb;AACJ;AACA;AACA;AACA;AACA;AACIO,EAAAA,KAAK,EAAE,gBAAgBC,GAAhB,EAAqBC,QAArB,EAA+BC,IAA/B,EAAqC;AACxCX,IAAAA,iBAAiB,CAACW,IAAD,CAAjB;AAEA,UAAMC,KAAK,GAAGH,GAAG,CAACI,UAAJ,CAAe,YAAf,EAA6BD,KAA7B,EAAd;AAEA,QAAIE,MAAM,GAAG,IAAIb,UAAJ,CAAeW,KAAf,EAAsBF,QAAtB,CAAb;AAEAD,IAAAA,GAAG,CAACM,eAAJ,CAAoBJ,IAApB,EAA0BG,MAA1B;AACH;AA7BY,CAAjB","sourcesContent":["const Feature = require(\"../enum/Feature\");\nconst { ensureFeatureName } = require(\"../utils/Helpers\");\n\nconst { HttpClient } = require('./httpClient');\n\n// backward compatible, use httpClient feature instead \n\nmodule.exports = {\n    /**\n     * This feature is loaded at init stage\n     * @member {string}\n     */\n    type: Feature.SERVICE,\n\n    /**\n     * This feature can be grouped by serviceGroup\n     * @member {boolean}\n     */\n    groupable: true,\n\n    RestClient: HttpClient,\n\n    /**\n     * Load the feature\n     * @param {App} app - The cli app module object\n     * @param {object} settings - Settings of rest clients\n     * @returns {Promise.<*>}\n     */\n    load_: async function (app, settings, name) {\n        ensureFeatureName(name);\n\n        const agent = app.tryRequire(\"superagent\").agent();\n\n        let client = new HttpClient(agent, settings);\n\n        app.registerService(name, client);        \n    },\n};\n"],"file":"restClient.js"}