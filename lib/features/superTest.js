"use strict";require("source-map-support/register");const{URL}=require("node:url");const{HttpClient}=require("./httpClient");const Feature=require("../enum/Feature");const{ensureFeatureName}=require("../utils/Helpers");class HttpTestClient extends HttpClient{constructor(agent,endpointOrOptions){super(agent,endpointOrOptions)}initReq(httpMethod,url){const urlObj=new URL(url);const testUrl=urlObj.pathname;if(urlObj.hash){testUrl+="#"+urlObj.hash}if(!this.server){throw new Error("\"server\" is required before sending test request.")}return this.agent(this.server)[httpMethod](testUrl)}}module.exports={type:Feature.SERVICE,groupable:true,load_:async function(app,settings,name){ensureFeatureName(name);const agent=app.tryRequire("supertest");let client=new HttpTestClient(agent,settings);app.registerService(name,client)}};
//# sourceMappingURL=superTest.js.map