"use strict";

require("source-map-support/register");

const Feature = require('../enum/Feature');

const {
  tryRequire
} = require('../utils/Helpers');

const nodemailer = tryRequire('nodemailer');
module.exports = {
  type: Feature.SERVICE,
  load_: async function (app, options) {
    let transporter = nodemailer.createTransport(options);
    app.registerService('mailer', transporter);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mZWF0dXJlcy9tYWlsZXIuanMiXSwibmFtZXMiOlsiRmVhdHVyZSIsInJlcXVpcmUiLCJ0cnlSZXF1aXJlIiwibm9kZW1haWxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0eXBlIiwiU0VSVklDRSIsImxvYWRfIiwiYXBwIiwib3B0aW9ucyIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwicmVnaXN0ZXJTZXJ2aWNlIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsaUJBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQTtBQUFGLElBQWlCRCxPQUFPLENBQUMsa0JBQUQsQ0FBOUI7O0FBQ0EsTUFBTUUsVUFBVSxHQUFHRCxVQUFVLENBQUMsWUFBRCxDQUE3QjtBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFNYkMsRUFBQUEsSUFBSSxFQUFFTixPQUFPLENBQUNPLE9BTkQ7QUFvQmJDLEVBQUFBLEtBQUssRUFBRSxnQkFBZ0JDLEdBQWhCLEVBQXFCQyxPQUFyQixFQUE4QjtBQUVqQyxRQUFJQyxXQUFXLEdBQUdSLFVBQVUsQ0FBQ1MsZUFBWCxDQUEyQkYsT0FBM0IsQ0FBbEI7QUFFQUQsSUFBQUEsR0FBRyxDQUFDSSxlQUFKLENBQW9CLFFBQXBCLEVBQThCRixXQUE5QjtBQUNIO0FBekJZLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRmVhdHVyZSA9IHJlcXVpcmUoJy4uL2VudW0vRmVhdHVyZScpO1xuY29uc3QgeyB0cnlSZXF1aXJlIH0gPSByZXF1aXJlKCcuLi91dGlscy9IZWxwZXJzJyk7XG5jb25zdCBub2RlbWFpbGVyID0gdHJ5UmVxdWlyZSgnbm9kZW1haWxlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZmVhdHVyZSBpcyBsb2FkZWQgYXQgaW5pdCBzdGFnZVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0eXBlOiBGZWF0dXJlLlNFUlZJQ0UsXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBmZWF0dXJlXG4gICAgICogQHBhcmFtIHtBcHB9IGFwcCAtIFRoZSBjbGkgYXBwIG1vZHVsZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBmZWF0dXJlXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IG9wdGlvbnMuaG9zdCAtIFNNVFAgaG9zdC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gb3B0aW9ucy5wb3J0IC0gU01UUCBwb3J0LlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3B0aW9ucy5zdWN1cmUgLSBTU0wuXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IG9wdGlvbnMuYXV0aCAtIEF1dGggaW5mby5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy5hdXRoLnVzZXIgLSBVc2VybmFtZS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gb3B0aW9ucy5hdXRoLnBhc3MgLSBQYXNzd29yZC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZS48Kj59XG4gICAgICovXG4gICAgbG9hZF86IGFzeW5jIGZ1bmN0aW9uIChhcHAsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxuICAgICAgICBsZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChvcHRpb25zKTsgICAgXG5cbiAgICAgICAgYXBwLnJlZ2lzdGVyU2VydmljZSgnbWFpbGVyJywgdHJhbnNwb3J0ZXIpO1xuICAgIH1cbn07Il19