{"version":3,"sources":["../../src/features/mailers.js"],"names":["Feature","require","_","module","exports","type","SERVICE","load_","app","mailers","nodemailer","tryRequire","forOwn","options","name","transporter","createTransport","registerService"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAQD,OAAO,CAAC,YAAD,CAArB;;AAEAE,MAAM,CAACC,OAAP,GAAiB;AAEb;AACJ;AACA;AACA;AACIC,EAAAA,IAAI,EAAEL,OAAO,CAACM,OAND;;AAQb;AACJ;AACA;AACA;AACA;AACA;AACIC,EAAAA,KAAK,EAAE,gBAAgBC,GAAhB,EAAqBC,OAArB,EAA8B;AACjC,UAAMC,UAAU,GAAGF,GAAG,CAACG,UAAJ,CAAe,YAAf,CAAnB,CADiC,CAGjC;;AAEAT,IAAAA,CAAC,CAACU,MAAF,CAASH,OAAT,EAAkB,CAACI,OAAD,EAAUC,IAAV,KAAmB;AACjC,UAAIC,WAAW,GAAGL,UAAU,CAACM,eAAX,CAA2BH,OAA3B,CAAlB;AAEAL,MAAAA,GAAG,CAACS,eAAJ,CAAqB,WAAUH,IAAK,EAApC,EAAuCC,WAAvC;AACH,KAJD;AAKH;AAxBY,CAAjB","sourcesContent":["const Feature = require('../enum/Feature');\nconst { _ } = require('@genx/july');\n\nmodule.exports = {\n\n    /**\n     * This feature is loaded at init stage\n     * @member {string}\n     */\n    type: Feature.SERVICE,\n\n    /**\n     * Load the feature\n     * @param {App} app - The cli app module object\n     * @param {object} mailers - Options for the feature     \n     * @returns {Promise.<*>}\n     */\n    load_: async function (app, mailers) {\n        const nodemailer = app.tryRequire('nodemailer');\n\n        // create reusable transporter object using the default SMTP transport        \n\n        _.forOwn(mailers, (options, name) => {\n            let transporter = nodemailer.createTransport(options);    \n\n            app.registerService(`mailers.${name}`, transporter);\n        });\n    }\n};"],"file":"mailers.js"}