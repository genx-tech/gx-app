"use strict";

require("source-map-support/register");

const Feature = require('../enum/Feature');

const {
  InvalidConfiguration
} = require('../utils/Errors');

module.exports = {
  type: Feature.PLUGIN,
  load_: (app, loggerName) => {
    let logger = app.getService('logger.' + loggerName);

    if (!logger) {
      throw new InvalidConfiguration(`Logger "${loggerName}" not found.`, app, 'appLogger');
    }

    app.replaceLogger(logger);
    app.on('stopping', () => {
      app.replaceLogger();
    });
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mZWF0dXJlcy9hcHBMb2dnZXIuanMiXSwibmFtZXMiOlsiRmVhdHVyZSIsInJlcXVpcmUiLCJJbnZhbGlkQ29uZmlndXJhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0eXBlIiwiUExVR0lOIiwibG9hZF8iLCJhcHAiLCJsb2dnZXJOYW1lIiwibG9nZ2VyIiwiZ2V0U2VydmljZSIsInJlcGxhY2VMb2dnZXIiLCJvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFPQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBMkJELE9BQU8sQ0FBQyxpQkFBRCxDQUF4Qzs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBTWJDLEVBQUFBLElBQUksRUFBRUwsT0FBTyxDQUFDTSxNQU5EO0FBYWJDLEVBQUFBLEtBQUssRUFBRSxDQUFDQyxHQUFELEVBQU1DLFVBQU4sS0FBcUI7QUFDeEIsUUFBSUMsTUFBTSxHQUFHRixHQUFHLENBQUNHLFVBQUosQ0FBZSxZQUFZRixVQUEzQixDQUFiOztBQUVBLFFBQUksQ0FBQ0MsTUFBTCxFQUFhO0FBQ1QsWUFBTSxJQUFJUixvQkFBSixDQUEwQixXQUFVTyxVQUFXLGNBQS9DLEVBQThERCxHQUE5RCxFQUFtRSxXQUFuRSxDQUFOO0FBQ0g7O0FBRURBLElBQUFBLEdBQUcsQ0FBQ0ksYUFBSixDQUFrQkYsTUFBbEI7QUFFQUYsSUFBQUEsR0FBRyxDQUFDSyxFQUFKLENBQU8sVUFBUCxFQUFtQixNQUFNO0FBQ3JCTCxNQUFBQSxHQUFHLENBQUNJLGFBQUo7QUFDSCxLQUZEO0FBR0g7QUF6QlksQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBSZXBsYWNlIHRoZSBkZWZhdWx0IGFwcCBsb2dnZXJcbiAqIEBtb2R1bGUgRmVhdHVyZV9BcHBMb2dnZXJcbiAqL1xuXG5jb25zdCBGZWF0dXJlID0gcmVxdWlyZSgnLi4vZW51bS9GZWF0dXJlJyk7XG5jb25zdCB7IEludmFsaWRDb25maWd1cmF0aW9uIH0gPSByZXF1aXJlKCcuLi91dGlscy9FcnJvcnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZlYXR1cmUgaXMgbG9hZGVkIGF0IHBsdWdpbiBzdGFnZVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0eXBlOiBGZWF0dXJlLlBMVUdJTixcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGZlYXR1cmVcbiAgICAgKiBAcGFyYW0ge0FwcH0gYXBwIC0gVGhlIGNsaSBhcHAgbW9kdWxlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2dnZXJOYW1lIC0gVGhlIGxvZ2dlciBuYW1lICAgICBcbiAgICAgKi9cbiAgICBsb2FkXzogKGFwcCwgbG9nZ2VyTmFtZSkgPT4ge1xuICAgICAgICBsZXQgbG9nZ2VyID0gYXBwLmdldFNlcnZpY2UoJ2xvZ2dlci4nICsgbG9nZ2VyTmFtZSk7XG5cbiAgICAgICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ29uZmlndXJhdGlvbihgTG9nZ2VyIFwiJHtsb2dnZXJOYW1lfVwiIG5vdCBmb3VuZC5gLCBhcHAsICdhcHBMb2dnZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwcC5yZXBsYWNlTG9nZ2VyKGxvZ2dlcik7XG5cbiAgICAgICAgYXBwLm9uKCdzdG9wcGluZycsICgpID0+IHtcbiAgICAgICAgICAgIGFwcC5yZXBsYWNlTG9nZ2VyKC8qIGJhY2sgdG8gb3JpZ2luYWwgKi8pO1xuICAgICAgICB9KTsgXG4gICAgfVxufTsiXX0=