"use strict";

require("source-map-support/register");

const {
  InvalidConfiguration
} = require('@genx/error');

const Feature = require('../enum/Feature');

module.exports = {
  type: Feature.PLUGIN,
  load_: (app, loggerName) => {
    let logger = app.getService('logger.' + loggerName);

    if (!logger) {
      throw new InvalidConfiguration(`Logger "${loggerName}" not found.`, app, 'appLogger');
    }

    app.replaceLogger(logger);
    app.on('stopping', () => {
      app.replaceLogger();
    });
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mZWF0dXJlcy9hcHBMb2dnZXIuanMiXSwibmFtZXMiOlsiSW52YWxpZENvbmZpZ3VyYXRpb24iLCJyZXF1aXJlIiwiRmVhdHVyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0eXBlIiwiUExVR0lOIiwibG9hZF8iLCJhcHAiLCJsb2dnZXJOYW1lIiwibG9nZ2VyIiwiZ2V0U2VydmljZSIsInJlcGxhY2VMb2dnZXIiLCJvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFPQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBMkJDLE9BQU8sQ0FBQyxhQUFELENBQXhDOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQXZCOztBQUVBRSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFNYkMsRUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE1BTkQ7QUFhYkMsRUFBQUEsS0FBSyxFQUFFLENBQUNDLEdBQUQsRUFBTUMsVUFBTixLQUFxQjtBQUN4QixRQUFJQyxNQUFNLEdBQUdGLEdBQUcsQ0FBQ0csVUFBSixDQUFlLFlBQVlGLFVBQTNCLENBQWI7O0FBRUEsUUFBSSxDQUFDQyxNQUFMLEVBQWE7QUFDVCxZQUFNLElBQUlWLG9CQUFKLENBQTBCLFdBQVVTLFVBQVcsY0FBL0MsRUFBOERELEdBQTlELEVBQW1FLFdBQW5FLENBQU47QUFDSDs7QUFFREEsSUFBQUEsR0FBRyxDQUFDSSxhQUFKLENBQWtCRixNQUFsQjtBQUVBRixJQUFBQSxHQUFHLENBQUNLLEVBQUosQ0FBTyxVQUFQLEVBQW1CLE1BQU07QUFDckJMLE1BQUFBLEdBQUcsQ0FBQ0ksYUFBSjtBQUNILEtBRkQ7QUFHSDtBQXpCWSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFJlcGxhY2UgdGhlIGRlZmF1bHQgYXBwIGxvZ2dlclxuICogQG1vZHVsZSBGZWF0dXJlX0FwcExvZ2dlclxuICovXG5cbmNvbnN0IHsgSW52YWxpZENvbmZpZ3VyYXRpb24gfSA9IHJlcXVpcmUoJ0BnZW54L2Vycm9yJyk7XG5jb25zdCBGZWF0dXJlID0gcmVxdWlyZSgnLi4vZW51bS9GZWF0dXJlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmZWF0dXJlIGlzIGxvYWRlZCBhdCBwbHVnaW4gc3RhZ2VcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdHlwZTogRmVhdHVyZS5QTFVHSU4sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBmZWF0dXJlXG4gICAgICogQHBhcmFtIHtBcHB9IGFwcCAtIFRoZSBjbGkgYXBwIG1vZHVsZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9nZ2VyTmFtZSAtIFRoZSBsb2dnZXIgbmFtZSAgICAgXG4gICAgICovXG4gICAgbG9hZF86IChhcHAsIGxvZ2dlck5hbWUpID0+IHtcbiAgICAgICAgbGV0IGxvZ2dlciA9IGFwcC5nZXRTZXJ2aWNlKCdsb2dnZXIuJyArIGxvZ2dlck5hbWUpO1xuXG4gICAgICAgIGlmICghbG9nZ2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENvbmZpZ3VyYXRpb24oYExvZ2dlciBcIiR7bG9nZ2VyTmFtZX1cIiBub3QgZm91bmQuYCwgYXBwLCAnYXBwTG9nZ2VyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHAucmVwbGFjZUxvZ2dlcihsb2dnZXIpO1xuXG4gICAgICAgIGFwcC5vbignc3RvcHBpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBhcHAucmVwbGFjZUxvZ2dlcigvKiBiYWNrIHRvIG9yaWdpbmFsICovKTtcbiAgICAgICAgfSk7IFxuICAgIH1cbn07Il19